---
import Layout from '~/layouts/PageLayout.astro';

const metadata = {
  title: 'Request Access — Autoperate',
  ignoreTitleTemplate: false,
};
---

<Layout metadata={metadata}>
  <section class="mx-auto max-w-3xl px-4 py-16">
    <header class="mb-10">
      <h1 class="text-3xl font-semibold tracking-tight text-gray-900 dark:text-white">
        Request access
      </h1>
      <p class="mt-3 text-base text-gray-600 dark:text-slate-300">
        Autoperate is invite-only right now. Tell us a little about your business so we can decide if we’re a fit.
      </p>
    </header>

    <!-- Netlify-compatible form (works when deployed on Netlify) -->
    <form
  name="access-request"
  method="POST"
  action="/access/thanks"
  data-netlify="true"
  netlify-honeypot="bot-field"
>
  <input type="hidden" name="form-name" value="access-request" />
  <p class="hidden">
    <label>
      Don’t fill this out: <input name="bot-field" />
    </label>
  </p>

      <div class="grid gap-6 sm:grid-cols-2">
        <div>
          <label class="block text-sm font-medium text-gray-900 dark:text-white" for="fullName">Full name</label>
          <input
            id="fullName"
            name="fullName"
            type="text"
            autocomplete="name"
            required
            class="mt-2 w-full rounded-xl border border-gray-300 bg-white px-4 py-3 text-gray-900 shadow-sm outline-none ring-0 focus:border-gray-900 dark:border-slate-700 dark:bg-slate-950 dark:text-white"
          />
        </div>

        <div>
          <label class="block text-sm font-medium text-gray-900 dark:text-white" for="email">Email</label>
          <input
            id="email"
            name="email"
            type="email"
            autocomplete="email"
            required
            class="mt-2 w-full rounded-xl border border-gray-300 bg-white px-4 py-3 text-gray-900 shadow-sm outline-none ring-0 focus:border-gray-900 dark:border-slate-700 dark:bg-slate-950 dark:text-white"
          />
        </div>

        <div>
          <label class="block text-sm font-medium text-gray-900 dark:text-white" for="businessName">Business name</label>
          <input
            id="businessName"
            name="businessName"
            type="text"
            required
            class="mt-2 w-full rounded-xl border border-gray-300 bg-white px-4 py-3 text-gray-900 shadow-sm outline-none ring-0 focus:border-gray-900 dark:border-slate-700 dark:bg-slate-950 dark:text-white"
          />
        </div>

        <div>
          <label class="block text-sm font-medium text-gray-900 dark:text-white" for="location">City / State</label>
          <input
            id="location"
            name="location"
            type="text"
            placeholder="Chicago, IL"
            class="mt-2 w-full rounded-xl border border-gray-300 bg-white px-4 py-3 text-gray-900 shadow-sm outline-none ring-0 focus:border-gray-900 dark:border-slate-700 dark:bg-slate-950 dark:text-white"
          />
        </div>

        <div>
          <label class="block text-sm font-medium text-gray-900 dark:text-white" for="phone">Phone (optional)</label>
          <input
            id="phone"
            name="phone"
            type="tel"
            autocomplete="tel"
            class="mt-2 w-full rounded-xl border border-gray-300 bg-white px-4 py-3 text-gray-900 shadow-sm outline-none ring-0 focus:border-gray-900 dark:border-slate-700 dark:bg-slate-950 dark:text-white"
          />
        </div>

        <div>
          <label class="block text-sm font-medium text-gray-900 dark:text-white" for="website">Website / Instagram (optional)</label>
          <input
            id="website"
            name="website"
            type="url"
            placeholder="https://…"
            class="mt-2 w-full rounded-xl border border-gray-300 bg-white px-4 py-3 text-gray-900 shadow-sm outline-none ring-0 focus:border-gray-900 dark:border-slate-700 dark:bg-slate-950 dark:text-white"
          />
        </div>

        <div>
          <label class="block text-sm font-medium text-gray-900 dark:text-white" for="role">Your role</label>
          <select
            id="role"
            name="role"
            required
            class="mt-2 w-full rounded-xl border border-gray-300 bg-white px-4 py-3 text-gray-900 shadow-sm outline-none ring-0 focus:border-gray-900 dark:border-slate-700 dark:bg-slate-950 dark:text-white"
          >
            <option value="" selected disabled>Select…</option>
            <option>Owner / Operator</option>
            <option>Manager</option>
            <option>Technician</option>
            <option>Other</option>
          </select>
        </div>

        <div>
          <label class="block text-sm font-medium text-gray-900 dark:text-white" for="businessType">Business type</label>
          <select
            id="businessType"
            name="businessType"
            required
            class="mt-2 w-full rounded-xl border border-gray-300 bg-white px-4 py-3 text-gray-900 shadow-sm outline-none ring-0 focus:border-gray-900 dark:border-slate-700 dark:bg-slate-950 dark:text-white"
          >
            <option value="" selected disabled>Select…</option>
            <option>Auto detailing / wrap / tint</option>
            <option>Home services</option>
            <option>Trades</option>
            <option>Other service business</option>
          </select>
        </div>

        <div class="sm:col-span-2">
          <label class="block text-sm font-medium text-gray-900 dark:text-white" for="why">
            What are you trying to understand about your operations?
          </label>
          <textarea
            id="why"
            name="why"
            rows="5"
            required
            class="mt-2 w-full rounded-xl border border-gray-300 bg-white px-4 py-3 text-gray-900 shadow-sm outline-none ring-0 focus:border-gray-900 dark:border-slate-700 dark:bg-slate-950 dark:text-white"
          ></textarea>
        </div>

        <div class="sm:col-span-2">
          <label class="block text-sm font-medium text-gray-900 dark:text-white" for="notes">
            Anything else we should know? (optional)
          </label>
          <textarea
            id="notes"
            name="notes"
            rows="3"
            class="mt-2 w-full rounded-xl border border-gray-300 bg-white px-4 py-3 text-gray-900 shadow-sm outline-none ring-0 focus:border-gray-900 dark:border-slate-700 dark:bg-slate-950 dark:text-white"
          ></textarea>
        </div>

        <div class="sm:col-span-2 flex items-start gap-3">
          <input
            id="consent"
            name="consent"
            type="checkbox"
            required
            class="mt-1 h-4 w-4 rounded border-gray-300 text-gray-900 focus:ring-0 dark:border-slate-700"
          />
          <label for="consent" class="text-sm text-gray-700 dark:text-slate-300">
            I understand Autoperate is invite-only and requests are reviewed manually.
          </label>
        </div>
      </div>

      <div class="flex items-center justify-between gap-4">
        <a href="/" class="text-sm text-gray-600 hover:text-gray-900 dark:text-slate-300 dark:hover:text-white">
          ← Back
        </a>

        <button
          type="submit"
          class="inline-flex items-center justify-center rounded-xl bg-gray-900 px-5 py-3 text-sm font-medium text-white shadow-sm hover:bg-black focus:outline-none dark:bg-white dark:text-gray-900 dark:hover:bg-gray-100"
        >
          Submit request
        </button>
      </div>
    </form>
  </section>
</Layout>
